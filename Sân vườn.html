<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <title>Sân vườn</title>
    <link rel="stylesheet" href="SanVuon.css">
</head>

<body>

    <div class="title">
        <div class="logo"><img src="image/logo.png" alt=""></div>
        <h2 style="font-size: 53px;text-align: center; display: block;width: 87%;">Smart Home</h2>
    </div>

    <!--<h2 class="title">Smart Home</h2>-->

    <div class="group">
        <li><a href="phòng khách.html">Phòng khách</a></li>
        <li><a href="phòng ngủ.html">Phòng ngủ </a></li>
        <li><a class="active" href="#">Sân vườn</a></li>
        <li><a href="Nhà bếp.html">Nhà bếp</a></li>
        <li id="time"> </li>
    </div>

    <div class="box">
        <div class="nhietDo">Nhiệt độ: <h5 id="nhietdo"></h5> &#8451;</div>
        <div class="doAm">Độ ẩm: <h5 id="doam"></h5> %</div>
        <div class="luonggas">Lượng khí gas: <h5 id="luonggas"></h5> &#8240;</div>
    </div>

    <div class="device_all">
        <!--Camera-->
        <div class="device">
            <img id="camera" src="image/camera-off.jpg" alt="">
            <div class="device_name">Camera</div>
            <div style="text-align: center;">
                <button type="button" class="button" id="btnCamOn">ON</button>
                <button type="button" class="button" id="btnCamOff">OFF</button>
            </div>
        </div>
        <!--Khóa cửa-->
        <div class="device">
            <img id="lock" src="image/lock-off.jpg" alt="">
            <div class="device_name">Khóa cổng</div>
            <div style="text-align: center;">
                <button type="button" class="button_one" id="toggleButton">OFF</button>
            </div>

        </div>
        <!--Đèn-->
        <div class="device">
            <img src="image/denon1.gif" alt="" class="hinh">
            <div class="device_name">Đèn</div>
            <div style="text-align: center;height: 30px;">
                <input type="range" min="0" max="100" step="2" style="width: 70%;" id="denRange">
            </div>
            <div style="text-align: center; font-size: 25px; margin-top: 3px;">
                <span id="denValue"></span>
            </div>
        </div>

    </div>
    </div>

    <footer>
        <div class="aboutUs" style="margin-top: 20px; width: 350px;">
            <p style="font-size: 35px; font-weight: bold;">Về chúng tôi:</p>
            <p>Chào mừng bạn đến với SmartHome - TTV</p>
            <p style="text-align: justify;">Chúng tôi là một đội ngũ đam mê về công nghệ và thiết kế nội thất, và chúng
                tôi rất tự hào mang đến cho bạn những giải pháp thông minh và sang trọng để biến ngôi nhà của bạn thành
                một không gian sống hoàn hảo - tiện nghi - thoải mái.</p>
        </div>
        <div class="memberAll">
            <p style="font-size: 35px; font-weight: bold;">Liên hệ:</p>
            <div class="member">
                Huỳnh Văn Thiện: 0565180272 - 20161375@student.hcmute.edu.vn
                <div style=" text-align: center;width: 500px;">
                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/thien.huynhvan2605?mibextid=9R9pXO">
                        <i class="fa-brands fa-facebook"></i>
                    </a>

                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/thien.huynhvan2605?mibextid=9R9pXO">
                        <i class="fa-brands fa-twitter"></i>
                    </a>

                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/thien.huynhvan2605?mibextid=9R9pXO">
                        <i class="fa-brands fa-instagram"></i>
                    </a>



                </div>
            </div>
            <div class="member">
                Nguyễn Thành Trung: 0979072941 - 20161387@student.hcmute.edu.vn
                <div style=" text-align: center;width: 500px;">
                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/profile.php?id=100067359046998&mibextid=9R9pXO">
                        <i class="fa-brands fa-facebook"></i>
                    </a>

                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/profile.php?id=100067359046998&mibextid=9R9pXO">
                        <i class="fa-brands fa-twitter"></i>
                    </a>

                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/profile.php?id=100067359046998&mibextid=9R9pXO">
                        <i class="fa-brands fa-instagram"></i>
                    </a>

                </div>
            </div>

            <div class="member">
                Đặng Đình Long Vũ: 0918944200 - 20161398@student.hcmute.edu.vn
                <div style=" text-align: center;width: 500px;">
                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/profile.php?id=100010704636560&mibextid=ZbWKwL">
                        <i class="fa-brands fa-facebook"></i>
                    </a>

                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/profile.php?id=100010704636560&mibextid=ZbWKwL">
                        <i class="fa-brands fa-twitter"></i>
                    </a>

                    <a style="text-decoration: none;" target="_blank"
                        href="https://www.facebook.com/profile.php?id=100010704636560&mibextid=ZbWKwL">
                        <i class="fa-brands fa-instagram"></i>
                    </a>

                </div>
            </div>

        </div>

        <div class="copyright">
            &copy; 2023 Smart Home Project - Bản quyền thuộc về chúng tôi - TTV.
        </div>
    </footer>

    <script src="function_SanVuon.js"></script>


    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-analytics.js"></script>
    <!-- lien ket voi functions.js -->


    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyBm9ILYEqWbboscIWpNE_gV4KDUv--pCmk",
            authDomain: "tt-coso-ungdung-iots.firebaseapp.com",
            projectId: "tt-coso-ungdung-iots",
            storageBucket: "tt-coso-ungdung-iots.appspot.com",
            messagingSenderId: "157255098472",
            appId: "1:157255098472:web:093880445c72b044875bdd",
            measurementId: "G-2Y46TGHXGT"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
        const database = firebase.database();

        // Nhiệt độ
        var nhietDo = document.getElementById('nhietdo');
        var dbRef = firebase.database().ref('SanVuon').child('NhietDo');
        dbRef.on('value', snap => nhietDo.innerText = snap.val());

        // Độ ẩm
        var doAm = document.getElementById('doam');
        var dbRef2 = firebase.database().ref('SanVuon').child('DoAm');
        dbRef2.on('value', snap => doAm.innerText = snap.val());

        // Lượng gas
        var Luonggas = document.getElementById('luonggas');
        var dbRef3 = firebase.database().ref('SanVuon').child('KhiGas');
        dbRef3.on('value', snap => Luonggas.innerText = snap.val());

    </script>

    <script>
        // Camera
        const cam_Hinh = document.getElementById('camera');
        const cam_On_btn = document.getElementById('btnCamON');
        const cam_Off_btn = document.getElementById('btnCamOff');
        const cam_Ref = database.ref('SanVuon').child('Camera');

        cam_Ref.on('value', (snapshot) => {
            const cam_TT = snapshot.val();
            cam_Hinh.src = cam_TT ? 'image/camera.jpg' : 'image/camera-off.jpg';
        });

    </script>

    <script>
        // khóa cổng
        const khoacua_Hinh = document.getElementById('lock');
        const khoacua_nutNhan = document.getElementById('toggleButton');
        const khoacua_Ref = database.ref('SanVuon').child('KhoaCong');

        khoacua_Ref.on('value', (snapshot) => {
            const khoa_TT = snapshot.val();
            khoacua_Hinh.src = khoa_TT ? 'image/lock-on.jpg' : 'image/lock-off.jpg';
            khoacua_nutNhan.textContent = khoa_TT ? 'ON' : 'OFF';
            if (khoa_TT)
                khoacua_nutNhan.style.backgroundColor = '#4CAF50';
            else
                khoacua_nutNhan.style.backgroundColor = 'red';
        });

        khoacua_nutNhan.addEventListener('click', () => {
            const khoacua_TT_Moi = khoacua_nutNhan.textContent === 'ON' ? 1 : 0;
            khoacua_Ref.set(khoacua_TT_Moi);
        });
    </script>

    <script>
        // Đèn
        const denRange = document.getElementById('denRange');
        const denValue = document.getElementById('denValue');
        const denIcon = document.querySelector('.hinh');

        const volume_Ref = database.ref('SanVuon').child('Den');

        denRange.addEventListener('input', () => {
            const den = denRange.value;
            denValue.textContent = den;
            // Cập nhật kích thước của hình ảnh theo giá trị âm lượng
            const scale = den / 100;
            denIcon.style.transform = `scale(${scale})`;
            volume_Ref.set(den);
        });

        //volume_Ref.on('value', snap => volumeValue.innerText = snap.val());
        volume_Ref.on('value', (snapshot) => {
            den = snapshot.val();
            denValue.textContent = den;
            denRange.value = den;
            // Cập nhật kích thước của hình ảnh theo giá trị âm lượng
            scale = den / 100;
            denIcon.style.transform = `scale(${scale})`;
        });
    </script>

    <script>
        // Đồng hồ
        function dongho() {
            var time = new Date();
            var gio = time.getHours();
            var phut = time.getMinutes();
            var giay = time.getSeconds();
            if (gio < 10)
                gio = "0" + gio;
            if (phut < 10)
                phut = "0" + phut;
            if (giay < 10)
                giay = "0" + giay;
            document.getElementById("time").innerHTML = gio + ":" + phut + ":" + giay;
            setTimeout("dongho()", 1000);
        };
        dongho();
    </script>


</body>

</html>
</body>

</html>